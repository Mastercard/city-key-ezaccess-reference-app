{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { ofType } from '@ngrx/effects';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { CardStatusType, PROGRAM_ID } from 'app/shared/constants';\nimport { CardsActionTypes, RegisterCards } from '../../ngrx/cards.actions';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@ngrx/store\";\nimport * as i4 from \"@ngrx/effects\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/icon\";\nimport * as i7 from \"@angular/material/form-field\";\nimport * as i8 from \"@angular/material/input\";\nimport * as i9 from \"@angular/common\";\nimport * as i10 from \"@angular/material/progress-spinner\";\n\nfunction CardsAddCardDialogComponent_mat_spinner_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-spinner\", 14);\n  }\n}\n\nlet CardsAddCardDialogComponent = class CardsAddCardDialogComponent {\n  constructor(_dialogRef, _formBuilder, _store, _actions) {\n    this._dialogRef = _dialogRef;\n    this._formBuilder = _formBuilder;\n    this._store = _store;\n    this._actions = _actions;\n  }\n\n  get programId() {\n    return this.form.get('programId');\n  }\n\n  get last4Digits() {\n    return this.form.get('last4Digits');\n  }\n\n  get eaid() {\n    return this.form.get('eaid');\n  }\n\n  get status() {\n    return this.form.get('status');\n  }\n\n  ngOnInit() {\n    this._createForm();\n\n    this._initObservables();\n\n    this._checkSuccessToCloseDialog();\n  }\n\n  onSubmit() {\n    this._store.dispatch(new RegisterCards({\n      programId: this.programId.value,\n      cards: [{\n        last4Digits: this.last4Digits.value,\n        eaid: this.eaid.value,\n        status: this.status.value\n      }]\n    }));\n  }\n\n  _createForm() {\n    this.form = this._formBuilder.group({\n      programId: [PROGRAM_ID],\n      last4Digits: [''],\n      eaid: [''],\n      status: [CardStatusType.ACTIVE]\n    });\n  }\n\n  _initObservables() {\n    this.isProcessing$ = this._store.select(s => s.cards.registerCards.isProcessing).pipe(untilDestroyed(this));\n    this.isProcessing$.pipe(untilDestroyed(this)).subscribe(isProcessing => {\n      if (isProcessing) {\n        this.form.disable();\n      } else {\n        this.form.enable();\n      }\n    });\n  }\n\n  _checkSuccessToCloseDialog() {\n    this._actions.pipe(ofType(CardsActionTypes.RegisterCardsSuccess), untilDestroyed(this)).subscribe(() => this._dialogRef.close());\n  }\n\n};\n\nCardsAddCardDialogComponent.ɵfac = function CardsAddCardDialogComponent_Factory(t) {\n  return new (t || CardsAddCardDialogComponent)(i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.Store), i0.ɵɵdirectiveInject(i4.Actions));\n};\n\nCardsAddCardDialogComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CardsAddCardDialogComponent,\n  selectors: [[\"add-card-dialog\"]],\n  decls: 34,\n  vars: 14,\n  consts: [[1, \"mat-dialog-title-bar\"], [\"mat-dialog-title\", \"\"], [\"mat-icon-button\", \"\", \"mat-dialog-close\", \"\", \"aria-label\", \"close dialog\"], [\"novalidate\", \"\", 1, \"cards-add-card-dialog-form\", 3, \"formGroup\", \"ngSubmit\"], [\"appearance\", \"outline\", 1, \"cards-add-card-dialog-form-programId\"], [\"matInput\", \"\", \"type\", \"text\", \"readonly\", \"\", 3, \"formControl\"], [\"appearance\", \"outline\", 1, \"cards-add-card-dialog-form-last4Digits\"], [\"matInput\", \"\", \"type\", \"text\", \"cdkFocusInitial\", \"\", 3, \"formControl\"], [\"appearance\", \"outline\", 1, \"cards-add-card-dialog-form-eaid\"], [\"matInput\", \"\", \"type\", \"text\", 3, \"formControl\"], [\"appearance\", \"outline\", 1, \"cards-add-card-dialog-form-status\"], [\"mat-flat-button\", \"\", \"type\", \"button\", \"color\", \"primary\", 1, \"cards-add-card-dialog-submit-btn\", 3, \"disabled\", \"click\"], [\"diameter\", \"16\", 4, \"ngIf\"], [\"mat-stroked-button\", \"\", \"mat-dialog-close\", \"\", \"type\", \"button\", \"color\", \"primary\", 1, \"cards-add-card-dialog-cancel-btn\", 3, \"disabled\"], [\"diameter\", \"16\"]],\n  template: function CardsAddCardDialogComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"h1\", 1);\n      i0.ɵɵtext(2, \"Add Card\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"button\", 2);\n      i0.ɵɵelementStart(4, \"mat-icon\");\n      i0.ɵɵtext(5, \"close\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"mat-dialog-content\");\n      i0.ɵɵelementStart(7, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function CardsAddCardDialogComponent_Template_form_ngSubmit_7_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(8, \"mat-form-field\", 4);\n      i0.ɵɵelementStart(9, \"mat-label\");\n      i0.ɵɵtext(10, \"Program ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(11, \"input\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"mat-form-field\", 6);\n      i0.ɵɵelementStart(13, \"mat-label\");\n      i0.ɵɵtext(14, \"Last 4 Digits\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(15, \"input\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"mat-form-field\", 8);\n      i0.ɵɵelementStart(17, \"mat-label\");\n      i0.ɵɵtext(18, \"EAID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(19, \"input\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"mat-form-field\", 10);\n      i0.ɵɵelementStart(21, \"mat-label\");\n      i0.ɵɵtext(22, \"Status\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(23, \"input\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"mat-dialog-actions\");\n      i0.ɵɵelementStart(25, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function CardsAddCardDialogComponent_Template_button_click_25_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵpipe(26, \"async\");\n      i0.ɵɵtemplate(27, CardsAddCardDialogComponent_mat_spinner_27_Template, 1, 0, \"mat-spinner\", 12);\n      i0.ɵɵpipe(28, \"async\");\n      i0.ɵɵelementStart(29, \"span\");\n      i0.ɵɵtext(30, \"Add\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"button\", 13);\n      i0.ɵɵpipe(32, \"async\");\n      i0.ɵɵtext(33, \" Cancel \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formControl\", ctx.programId);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formControl\", ctx.last4Digits);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formControl\", ctx.eaid);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formControl\", ctx.status);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", i0.ɵɵpipeBind1(26, 8, ctx.isProcessing$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(28, 10, ctx.isProcessing$));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"disabled\", i0.ɵɵpipeBind1(32, 12, ctx.isProcessing$));\n    }\n  },\n  directives: [i1.MatDialogTitle, i5.MatButton, i1.MatDialogClose, i6.MatIcon, i1.MatDialogContent, i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i7.MatFormField, i7.MatLabel, i8.MatInput, i2.DefaultValueAccessor, i2.NgControlStatus, i2.FormControlDirective, i1.MatDialogActions, i9.NgIf, i10.MatSpinner],\n  pipes: [i9.AsyncPipe],\n  encapsulation: 2\n});\nCardsAddCardDialogComponent = __decorate([UntilDestroy()], CardsAddCardDialogComponent);\nexport { CardsAddCardDialogComponent };","map":{"version":3,"sources":["/Users/rasika/WORK/DEV/PROJECTS/MCEA/mcea-01/mcea-reference-app/reference-app/src/app/features/cards/components/add-card-dialog/add-card-dialog.component.ts"],"names":["__decorate","ofType","UntilDestroy","untilDestroyed","CardStatusType","PROGRAM_ID","CardsActionTypes","RegisterCards","i0","i1","i2","i3","i4","i5","i6","i7","i8","i9","i10","CardsAddCardDialogComponent_mat_spinner_27_Template","rf","ctx","ɵɵelement","CardsAddCardDialogComponent","constructor","_dialogRef","_formBuilder","_store","_actions","programId","form","get","last4Digits","eaid","status","ngOnInit","_createForm","_initObservables","_checkSuccessToCloseDialog","onSubmit","dispatch","value","cards","group","ACTIVE","isProcessing$","select","s","registerCards","isProcessing","pipe","subscribe","disable","enable","RegisterCardsSuccess","close","ɵfac","CardsAddCardDialogComponent_Factory","t","ɵɵdirectiveInject","MatDialogRef","FormBuilder","Store","Actions","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","CardsAddCardDialogComponent_Template","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","CardsAddCardDialogComponent_Template_form_ngSubmit_7_listener","CardsAddCardDialogComponent_Template_button_click_25_listener","ɵɵpipe","ɵɵtemplate","ɵɵadvance","ɵɵproperty","ɵɵpipeBind1","directives","MatDialogTitle","MatButton","MatDialogClose","MatIcon","MatDialogContent","ɵNgNoValidate","NgControlStatusGroup","FormGroupDirective","MatFormField","MatLabel","MatInput","DefaultValueAccessor","NgControlStatus","FormControlDirective","MatDialogActions","NgIf","MatSpinner","pipes","AsyncPipe","encapsulation"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\nimport { ofType } from '@ngrx/effects';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { CardStatusType, PROGRAM_ID } from 'app/shared/constants';\nimport { CardsActionTypes, RegisterCards } from '../../ngrx/cards.actions';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@ngrx/store\";\nimport * as i4 from \"@ngrx/effects\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/icon\";\nimport * as i7 from \"@angular/material/form-field\";\nimport * as i8 from \"@angular/material/input\";\nimport * as i9 from \"@angular/common\";\nimport * as i10 from \"@angular/material/progress-spinner\";\nfunction CardsAddCardDialogComponent_mat_spinner_27_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-spinner\", 14);\n} }\nlet CardsAddCardDialogComponent = class CardsAddCardDialogComponent {\n    constructor(_dialogRef, _formBuilder, _store, _actions) {\n        this._dialogRef = _dialogRef;\n        this._formBuilder = _formBuilder;\n        this._store = _store;\n        this._actions = _actions;\n    }\n    get programId() { return this.form.get('programId'); }\n    get last4Digits() { return this.form.get('last4Digits'); }\n    get eaid() { return this.form.get('eaid'); }\n    get status() { return this.form.get('status'); }\n    ngOnInit() {\n        this._createForm();\n        this._initObservables();\n        this._checkSuccessToCloseDialog();\n    }\n    onSubmit() {\n        this._store.dispatch(new RegisterCards({\n            programId: this.programId.value,\n            cards: [\n                {\n                    last4Digits: this.last4Digits.value,\n                    eaid: this.eaid.value,\n                    status: this.status.value\n                }\n            ]\n        }));\n    }\n    _createForm() {\n        this.form = this._formBuilder.group({\n            programId: [PROGRAM_ID],\n            last4Digits: [''],\n            eaid: [''],\n            status: [CardStatusType.ACTIVE]\n        });\n    }\n    _initObservables() {\n        this.isProcessing$ = this._store\n            .select(s => s.cards.registerCards.isProcessing)\n            .pipe(untilDestroyed(this));\n        this.isProcessing$\n            .pipe(untilDestroyed(this))\n            .subscribe(isProcessing => {\n            if (isProcessing) {\n                this.form.disable();\n            }\n            else {\n                this.form.enable();\n            }\n        });\n    }\n    _checkSuccessToCloseDialog() {\n        this._actions.pipe(ofType(CardsActionTypes.RegisterCardsSuccess), untilDestroyed(this)).subscribe(() => this._dialogRef.close());\n    }\n};\nCardsAddCardDialogComponent.ɵfac = function CardsAddCardDialogComponent_Factory(t) { return new (t || CardsAddCardDialogComponent)(i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.Store), i0.ɵɵdirectiveInject(i4.Actions)); };\nCardsAddCardDialogComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: CardsAddCardDialogComponent, selectors: [[\"add-card-dialog\"]], decls: 34, vars: 14, consts: [[1, \"mat-dialog-title-bar\"], [\"mat-dialog-title\", \"\"], [\"mat-icon-button\", \"\", \"mat-dialog-close\", \"\", \"aria-label\", \"close dialog\"], [\"novalidate\", \"\", 1, \"cards-add-card-dialog-form\", 3, \"formGroup\", \"ngSubmit\"], [\"appearance\", \"outline\", 1, \"cards-add-card-dialog-form-programId\"], [\"matInput\", \"\", \"type\", \"text\", \"readonly\", \"\", 3, \"formControl\"], [\"appearance\", \"outline\", 1, \"cards-add-card-dialog-form-last4Digits\"], [\"matInput\", \"\", \"type\", \"text\", \"cdkFocusInitial\", \"\", 3, \"formControl\"], [\"appearance\", \"outline\", 1, \"cards-add-card-dialog-form-eaid\"], [\"matInput\", \"\", \"type\", \"text\", 3, \"formControl\"], [\"appearance\", \"outline\", 1, \"cards-add-card-dialog-form-status\"], [\"mat-flat-button\", \"\", \"type\", \"button\", \"color\", \"primary\", 1, \"cards-add-card-dialog-submit-btn\", 3, \"disabled\", \"click\"], [\"diameter\", \"16\", 4, \"ngIf\"], [\"mat-stroked-button\", \"\", \"mat-dialog-close\", \"\", \"type\", \"button\", \"color\", \"primary\", 1, \"cards-add-card-dialog-cancel-btn\", 3, \"disabled\"], [\"diameter\", \"16\"]], template: function CardsAddCardDialogComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"h1\", 1);\n        i0.ɵɵtext(2, \"Add Card\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"button\", 2);\n        i0.ɵɵelementStart(4, \"mat-icon\");\n        i0.ɵɵtext(5, \"close\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"mat-dialog-content\");\n        i0.ɵɵelementStart(7, \"form\", 3);\n        i0.ɵɵlistener(\"ngSubmit\", function CardsAddCardDialogComponent_Template_form_ngSubmit_7_listener() { return ctx.onSubmit(); });\n        i0.ɵɵelementStart(8, \"mat-form-field\", 4);\n        i0.ɵɵelementStart(9, \"mat-label\");\n        i0.ɵɵtext(10, \"Program ID\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(11, \"input\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"mat-form-field\", 6);\n        i0.ɵɵelementStart(13, \"mat-label\");\n        i0.ɵɵtext(14, \"Last 4 Digits\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"input\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"mat-form-field\", 8);\n        i0.ɵɵelementStart(17, \"mat-label\");\n        i0.ɵɵtext(18, \"EAID\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(19, \"input\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"mat-form-field\", 10);\n        i0.ɵɵelementStart(21, \"mat-label\");\n        i0.ɵɵtext(22, \"Status\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(23, \"input\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"mat-dialog-actions\");\n        i0.ɵɵelementStart(25, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function CardsAddCardDialogComponent_Template_button_click_25_listener() { return ctx.onSubmit(); });\n        i0.ɵɵpipe(26, \"async\");\n        i0.ɵɵtemplate(27, CardsAddCardDialogComponent_mat_spinner_27_Template, 1, 0, \"mat-spinner\", 12);\n        i0.ɵɵpipe(28, \"async\");\n        i0.ɵɵelementStart(29, \"span\");\n        i0.ɵɵtext(30, \"Add\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"button\", 13);\n        i0.ɵɵpipe(32, \"async\");\n        i0.ɵɵtext(33, \" Cancel \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formControl\", ctx.programId);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formControl\", ctx.last4Digits);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formControl\", ctx.eaid);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formControl\", ctx.status);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", i0.ɵɵpipeBind1(26, 8, ctx.isProcessing$));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(28, 10, ctx.isProcessing$));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", i0.ɵɵpipeBind1(32, 12, ctx.isProcessing$));\n    } }, directives: [i1.MatDialogTitle, i5.MatButton, i1.MatDialogClose, i6.MatIcon, i1.MatDialogContent, i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i7.MatFormField, i7.MatLabel, i8.MatInput, i2.DefaultValueAccessor, i2.NgControlStatus, i2.FormControlDirective, i1.MatDialogActions, i9.NgIf, i10.MatSpinner], pipes: [i9.AsyncPipe], encapsulation: 2 });\nCardsAddCardDialogComponent = __decorate([\n    UntilDestroy()\n], CardsAddCardDialogComponent);\nexport { CardsAddCardDialogComponent };\n"]},"metadata":{},"sourceType":"module"}